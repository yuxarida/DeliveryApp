<Window x:Class="DeliverySystem.UI.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:vm="clr-namespace:DeliverySystem.UI.ViewModels"
        xmlns:views="clr-namespace:DeliverySystem.UI.Views"
        mc:Ignorable="d"
        Title="Delivery System" Height="750" Width="1200"
        WindowStartupLocation="CenterScreen"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="{DynamicResource MaterialDesignFont}">

    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>

    <Window.Resources>
        <DataTemplate DataType="{x:Type vm:OrdersViewModel}">
            <views:OrdersView/>
        </DataTemplate>
        <DataTemplate DataType="{x:Type vm:ReportViewModel}">
            <views:ReportView/>
        </DataTemplate>
    </Window.Resources>

    <Grid>
        <Grid Visibility="{Binding LoginVis}" Background="#F0F0F0" Panel.ZIndex="100">
            <materialDesign:Card Width="350" Padding="20" VerticalAlignment="Center" UniformCornerRadius="10" materialDesign:ShadowAssist.ShadowDepth="Depth3">
                <StackPanel>
                    <TextBlock Text="ВХІД У СИСТЕМУ" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,20"/>
                    <TextBox Text="{Binding LoginUsername, UpdateSourceTrigger=PropertyChanged}" materialDesign:HintAssist.Hint="Логін (admin, kovtun...)" Margin="0,10"/>
                    <PasswordBox x:Name="PassBox" materialDesign:HintAssist.Hint="Пароль" Margin="0,10"/>
                    <Button Command="{Binding LoginCommand}" CommandParameter="{Binding ElementName=PassBox}" Content="УВІЙТИ" Margin="0,20,0,0"/>
                </StackPanel>
            </materialDesign:Card>
        </Grid>

        <Grid Visibility="{Binding NavVis}">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="250"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Background="White" Effect="{StaticResource MaterialDesignShadowDepth1}">
                <StackPanel>
                    <StackPanel Orientation="Horizontal" Margin="20,30">
                        <materialDesign:PackIcon Kind="TruckFast" Width="30" Height="30" Foreground="{DynamicResource PrimaryHueMidBrush}"/>
                        <TextBlock Text="Nova Delivery" FontSize="20" FontWeight="Bold" Margin="10,0,0,0" VerticalAlignment="Center"/>
                    </StackPanel>

                    <Button Command="{Binding GoToOrdersCommand}" Style="{StaticResource MaterialDesignFlatButton}" 
                            Height="50" HorizontalContentAlignment="Left" Padding="20,0" Foreground="#444">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ViewList" VerticalAlignment="Center" Margin="0,0,15,0"/>
                            <TextBlock Text="Замовлення"/>
                        </StackPanel>
                    </Button>

                    <Button Command="{Binding GoToReportCommand}" Style="{StaticResource MaterialDesignFlatButton}" 
                            Height="50" HorizontalContentAlignment="Left" Padding="20,0" Foreground="#444">
                        <StackPanel Orientation="Horizontal">
                            <materialDesign:PackIcon Kind="ChartLine" VerticalAlignment="Center" Margin="0,0,15,0"/>
                            <TextBlock Text="Звітність"/>
                        </StackPanel>
                    </Button>

                    <Separator Margin="20"/>
                    <TextBlock Text="{Binding WelcomeMsg}" Margin="20,0" Foreground="Gray" TextWrapping="Wrap"/>
                    <Button Command="{Binding LogoutCommand}" Content="Вихід" Style="{StaticResource MaterialDesignOutlinedButton}" Margin="20,10"/>
                </StackPanel>
            </Border>

            <ContentControl Grid.Column="1" Content="{Binding CurrentView}" Margin="10"/>
        </Grid>
    </Grid>
</Window>